```
# Laravel Redis å¿«å–ç®¡ç†ç³»çµ±

ä¸€å€‹åŠŸèƒ½å®Œå–„çš„ Laravel Redis å¿«å–ç®¡ç†ç³»çµ±ï¼Œæä¾›å¿«å–ç›£æ§å„€è¡¨æ¿ã€API è«‹æ±‚å¿«å–å„ªåŒ–ä»¥åŠå…¨é¢çš„å¿«å–ç®¡ç†åŠŸèƒ½ã€‚

## ä¸»è¦åŠŸèƒ½

- ğŸ“Š **å¿«å–ç›£æ§å„€è¡¨æ¿**ï¼šå³æ™‚ç›£æ§ Redis å¿«å–æ•ˆèƒ½æŒ‡æ¨™
- ğŸš€ **API è‡ªå‹•å¿«å–**ï¼šä½¿ç”¨è«‹æ±‚æŒ‡ç´‹æŠ€è¡“æ™ºèƒ½å¿«å– API å›æ‡‰
- ğŸ” **å¿«å–åˆ†æ**ï¼šæä¾›å‘½ä¸­ç‡ã€è¨˜æ†¶é«”ä½¿ç”¨é‡ç­‰é—œéµçµ±è¨ˆè³‡æ–™
- ğŸ§¹ **å¿«å–ç®¡ç†**ï¼šæ¸…é™¤ã€æ›´æ–°æˆ–é ç†±å¿«å–
- ğŸ”„ **Redis é€£ç·šæ¸¬è©¦**ï¼šè¨ºæ–· Redis é€£ç·šå•é¡Œ
- ğŸ·ï¸ **æ¨™ç±¤å¼å¿«å–**ï¼šæ”¯æ´é€éæ¨™ç±¤æ‰¹æ¬¡æ¸…é™¤ç›¸é—œå¿«å–

## åŠŸèƒ½è©³ç´°ä»‹ç´¹

### å¿«å–ç›£æ§å„€è¡¨æ¿

é€éç›´è¦ºåŒ–çš„ç®¡ç†ä»‹é¢ï¼Œå³æ™‚ç›£æ§ Redis å¿«å–ç³»çµ±çš„å¥åº·ç‹€æ…‹èˆ‡æ•ˆèƒ½æŒ‡æ¨™ï¼š

- **å³æ™‚çµ±è¨ˆæ•¸æ“š**ï¼šé¡¯ç¤ºå¿«å–å‘½ä¸­ç‡ã€è¨˜æ†¶é«”ä½¿ç”¨é‡ã€ç¸½å¿«å–éµæ•¸ç­‰é—œéµæŒ‡æ¨™
- **é€£ç·šç‹€æ…‹ç›£æ§**ï¼šç›£æ§ Redis ä¼ºæœå™¨é€£ç·šç‹€æ…‹èˆ‡å®¢æˆ¶ç«¯æ•¸é‡
- **ç³»çµ±é‹è¡Œæ™‚é–“**ï¼šè¿½è¹¤ Redis ä¼ºæœå™¨çš„é‹è¡Œæ™‚é–“
- **ä¸€éµæ¸…é™¤åŠŸèƒ½**ï¼šæä¾›å¿«é€Ÿæ¸…é™¤æ‰€æœ‰å¿«å–çš„åŠŸèƒ½
```
## ç³»çµ±æ¶æ§‹åœ–

```mermaid
graph TD
    A[å®¢æˆ¶ç«¯è«‹æ±‚] --> B[Laravel è·¯ç”±]
    B --> C{CacheRequestFingerprint ä¸­é–“ä»¶}
    C -- å¿«å–å‘½ä¸­ --> D[è¿”å›å¿«å–è³‡æ–™]
    C -- å¿«å–æœªå‘½ä¸­ --> E[æ§åˆ¶å™¨è™•ç†]
    E --> F[è³‡æ–™åº«æŸ¥è©¢]
    F --> G[è¿”å›è³‡æ–™]
    G --> H[å„²å­˜è‡³å¿«å–]
    H --> I[è¿”å›å›æ‡‰]
    D --> J[å®Œæˆè«‹æ±‚]
    I --> J
    
    K[ç®¡ç†ä»‹é¢] --> L[å¿«å–ç›£æ§å„€è¡¨æ¿]
    L --> M[CacheService]
    M --> N[Redis ä¼ºæœå™¨]
    
    O[Redis é€£ç·šæ¸¬è©¦] --> P[å¤šå±¤æ¬¡è¨ºæ–·]
    P --> Q[ç”Ÿæˆå ±å‘Š]
```

ä¸Šåœ–å±•ç¤ºäº† Laravel Redis å¿«å–ç®¡ç†ç³»çµ±çš„æ•´é«”æ¶æ§‹ï¼ŒåŒ…æ‹¬ï¼š
1. API è«‹æ±‚è™•ç†æµç¨‹
2. å¿«å–å±¤èˆ‡è³‡æ–™åº«å±¤çš„äº¤äº’
3. ç›£æ§ç³»çµ±çš„è³‡æ–™æ”¶é›†æµç¨‹
4. å„å…ƒä»¶ä¹‹é–“çš„é—œä¿‚


### API è‡ªå‹•å¿«å–

æ¡ç”¨æ™ºèƒ½è«‹æ±‚æŒ‡ç´‹æŠ€è¡“ï¼Œè‡ªå‹•ç‚º API å›æ‡‰å»ºç«‹å¿«å–ï¼Œæå‡æ‡‰ç”¨ç¨‹å¼æ•ˆèƒ½ï¼š

```mermaid
flowchart TD
    A[API è«‹æ±‚] --> B{å¿«å–å­˜åœ¨?}
    B -- æ˜¯ --> C[è¿”å›å¿«å–è³‡æ–™]
    C --> D[æ·»åŠ  X-API-Cache: HIT æ¨™é ­]
    B -- å¦ --> E[è™•ç†è«‹æ±‚]
    E --> F[ç²å–å›æ‡‰]
    F --> G{ç‹€æ…‹ç¢¼ = 200?}
    G -- æ˜¯ --> H[å„²å­˜è‡³å¿«å–]
    H --> I[æ·»åŠ  X-API-Cache: MISS æ¨™é ­]
    G -- å¦ --> J[ä¸å¿«å–]
    I --> K[è¿”å›å›æ‡‰]
    J --> K
    D --> L[å®Œæˆ]
    K --> L
```

- **è«‹æ±‚æŒ‡ç´‹ç”Ÿæˆ**ï¼šæ ¹æ“šè«‹æ±‚è·¯å¾‘å’Œåƒæ•¸ç”Ÿæˆå”¯ä¸€æŒ‡ç´‹ï¼Œä¸å—åƒæ•¸é †åºå½±éŸ¿
- **æ™ºèƒ½éæœŸç­–ç•¥**ï¼šä¾æ“šä¸åŒ API ç«¯é»é¡å‹è‡ªå‹•è¨­å®šåˆç†çš„å¿«å–éæœŸæ™‚é–“
- **å¿«å–å‘½ä¸­æ¨™è¨˜**ï¼šåœ¨å›æ‡‰æ¨™é ­æ·»åŠ  `X-API-Cache` æ¨™è¨˜ï¼Œæ–¹ä¾¿è¿½è¹¤å¿«å–ç‹€æ…‹
- **åƒ…å¿«å–æˆåŠŸå›æ‡‰**ï¼šåªå°ç‹€æ…‹ç¢¼ 200 çš„å›æ‡‰é€²è¡Œå¿«å–ï¼Œç¢ºä¿è³‡æ–™æ­£ç¢ºæ€§

```php
// è«‹æ±‚æŒ‡ç´‹ç”Ÿæˆç¤ºä¾‹
private function generateFingerprint(Request $request): string
{
    $path = $request->path();
    $params = $request->all();
    
    // å°åƒæ•¸é€²è¡Œæ’åºä»¥ç¢ºä¿é †åºä¸å½±éŸ¿æŒ‡ç´‹
    ksort($params);
    
    // åŸºæœ¬éµ
    $key = 'api:' . $path;
    
    // æ·»åŠ åƒæ•¸é›œæ¹Š
    if (!empty($params)) {
        $key .= ':' . md5(serialize($params));
    }
    
    return $key;
}
```

### å¿«å–åˆ†æ

æä¾›å…¨é¢çš„å¿«å–ä½¿ç”¨åˆ†æï¼Œå¹«åŠ©å„ªåŒ–æ‡‰ç”¨ç¨‹å¼æ•ˆèƒ½ï¼š

![image](https://github.com/user-attachments/assets/2ade253a-6657-4582-9889-8a7500f494c0)

- **å‘½ä¸­ç‡çµ±è¨ˆ**ï¼šè¨ˆç®—ä¸¦é¡¯ç¤ºå¿«å–å‘½ä¸­èˆ‡æœªå‘½ä¸­çš„æ¯”ä¾‹
- **è¨˜æ†¶é«”ä½¿ç”¨ç›£æ§**ï¼šè¿½è¹¤ Redis è¨˜æ†¶é«”ä½¿ç”¨æƒ…æ³ï¼Œé é˜²è¨˜æ†¶é«”ä¸è¶³å•é¡Œ
- **å¿«å–éµåˆ†æ**ï¼šåˆ†æä¸åŒé¡å‹çš„å¿«å–éµåˆ†ä½ˆèˆ‡ä½¿ç”¨æƒ…æ³
- **é™¤éŒ¯è³‡è¨Š**ï¼šæä¾›è©³ç´°çš„é™¤éŒ¯è³‡è¨Šï¼Œå”åŠ©æ’æŸ¥å¿«å–ç›¸é—œå•é¡Œ

```php
// ç²å–å¿«å–çµ±è¨ˆè³‡è¨Š
public function getCacheStats(): array
{
    $redis = Redis::connection()->client();
    $info = $redis->info();
    
    $hits = (int)($info['keyspace_hits'] ?? 0);
    $misses = (int)($info['keyspace_misses'] ?? 0);
    $totalOps = $hits + $misses;
    
    return [
        'hits' => $hits,
        'misses' => $misses,
        'hit_rate' => $totalOps > 0 ? round(($hits / $totalOps) * 100, 2) : 0,
        'memory_usage' => $info['used_memory_human'] ?? '0B',
        // å…¶ä»–çµ±è¨ˆè³‡æ–™...
    ];
}
```

### å¿«å–ç®¡ç†

æä¾›å¤šç¨®å¿«å–ç®¡ç†å·¥å…·ï¼Œå¯¦ç¾ç²¾ç´°åŒ–çš„å¿«å–æ§åˆ¶ï¼š

```mermaid
graph LR
    A[å¿«å–ç®¡ç†] --> B[é¸æ“‡æ€§æ›´æ–°å¿«å–]
    A --> C[æ¨™ç±¤å¼å¿«å–æ¸…é™¤]
    A --> D[å¿«å–é ç†±]
    A --> E[å…¨åŸŸå¿«å–æ¸…é™¤]
    
    B --> F[åªæ›´æ–°è®Šæ›´æ¬„ä½]
    C --> G[ä¾æ¨™ç±¤æ‰¹æ¬¡æ¸…é™¤]
    D --> H[é ç†±å³å°‡éæœŸé …ç›®]
    E --> I[æ¸…é™¤æ‰€æœ‰å¿«å–]
```

- **é¸æ“‡æ€§æ›´æ–°å¿«å–**ï¼šæ”¯æ´åªæ›´æ–°å¿«å–ä¸­çš„ç‰¹å®šæ¬„ä½ï¼Œç„¡éœ€é‡å»ºæ•´å€‹å¿«å–
- **æ¨™ç±¤å¼å¿«å–æ¸…é™¤**ï¼šé€éæ¨™ç±¤æ‰¹æ¬¡æ¸…é™¤ç›¸é—œè¯çš„å¿«å–é …ç›®
- **å¿«å–é ç†±åŠŸèƒ½**ï¼šè‡ªå‹•é ç†±å³å°‡éæœŸçš„å¿«å–ï¼Œé¿å…æ•ˆèƒ½çªç„¶ä¸‹é™
- **å…¨åŸŸå¿«å–æ¸…é™¤**ï¼šæä¾›æ¸…é™¤æ‰€æœ‰å¿«å–çš„åŠŸèƒ½ï¼Œé©ç”¨æ–¼å¤§è¦æ¨¡æ›´æ–°å¾Œ

```php
// é¸æ“‡æ€§æ›´æ–°å¿«å–ç¤ºä¾‹
public function updateCache(string $key, array $data, int $expiresAt = 600): bool
{
    if (Cache::has($key)) {
        $cachedData = Cache::get($key);
        
        // åˆä½µæ–°èˆŠæ•¸æ“šï¼Œåªæ›´æ–°è®Šæ›´éƒ¨åˆ†
        $updatedData = array_merge($cachedData, $data);
        
        Cache::put($key, $updatedData, $expiresAt);
        return true;
    }
    
    return false;
}
```

### Redis é€£ç·šæ¸¬è©¦

æä¾›å…¨é¢çš„ Redis é€£ç·šè¨ºæ–·å·¥å…·ï¼Œå¿«é€Ÿè­˜åˆ¥ä¸¦è§£æ±ºé€£ç·šå•é¡Œï¼š

```mermaid
flowchart TD
    A[é–‹å§‹é€£ç·šæ¸¬è©¦] --> B[æª¢æŸ¥ç’°å¢ƒè¨­å®š]
    B --> C[æª¢æŸ¥ PHP æ“´å±•]
    C --> D[Socket å±¤é€£ç·šæ¸¬è©¦]
    D --> E[PHP Redis æ“´å±•æ¸¬è©¦]
    E --> F[Laravel Redis æ¸¬è©¦]
    F --> G[ç”Ÿæˆè¨ºæ–·å ±å‘Š]
    G --> H[æä¾›è§£æ±ºæ–¹æ¡ˆ]
```

- **å¤šå±¤æ¬¡é€£ç·šæ¸¬è©¦**ï¼šå¾ Socket å±¤åˆ° Laravel æ•´åˆå±¤é€²è¡Œå…¨é¢æª¢æ¸¬
- **ç’°å¢ƒè¨­å®šæª¢æŸ¥**ï¼šæª¢æŸ¥ Redis ä¸»æ©Ÿã€é€£æ¥åŸ ã€å®¢æˆ¶ç«¯é¡å‹ç­‰ç’°å¢ƒè¨­å®š
- **PHP æ“´å±•æª¢æŸ¥**ï¼šé©—è­‰å¿…è¦çš„ PHP æ“´å±•æ˜¯å¦å·²å®‰è£
- **æ™ºèƒ½è¨ºæ–·å»ºè­°**ï¼šæ ¹æ“šæ¸¬è©¦çµæœæä¾›å…·é«”çš„å•é¡Œè¨ºæ–·èˆ‡è§£æ±ºæ–¹æ¡ˆå»ºè­°

```php
// Redis é€£ç·šæ¸¬è©¦è¨ºæ–·ç¤ºä¾‹
private function getDiagnosis($results)
{
    $diagnosis = [];
    
    // æª¢æŸ¥ Socket é€£æ¥
    if (!$results['socket_test']['success']) {
        $diagnosis[] = 'âŒ åŸºæœ¬ç¶²è·¯é€£æ¥å¤±æ•—ï¼šç„¡æ³•é€£æ¥åˆ° ' . 
                       $results['environment']['redis_host'] . ':' . 
                       $results['environment']['redis_port'];
        $diagnosis[] = 'æ¨è–¦ï¼šæª¢æŸ¥ Redis æœå‹™æ˜¯å¦é‹è¡Œã€ç¶²çµ¡é…ç½®ä»¥åŠé˜²ç«ç‰†è¨­ç½®';
    }
    
    // æ›´å¤šè¨ºæ–·é‚è¼¯...
    
    return $diagnosis;
}
```

### æ¨™ç±¤å¼å¿«å–

å¯¦ç¾åŸºæ–¼æ¨™ç±¤çš„å¿«å–ç®¡ç†ï¼Œæå‡å¿«å–æ“ä½œçš„éˆæ´»æ€§ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ¨™ç±¤å¼å¿«å– â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                      â”‚
â”‚  ç”¢å“ API å¿«å–                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ api:product:â”‚ â”‚ api:product:â”‚ â”‚ api:product:â”‚    â”‚
â”‚  â”‚     :1      â”‚ â”‚     :2      â”‚ â”‚     :3      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                      â”‚
â”‚  ç”¨æˆ¶ API å¿«å–                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  api:user:  â”‚ â”‚  api:user:  â”‚ â”‚  api:user:  â”‚    â”‚
â”‚  â”‚     :1      â”‚ â”‚     :2      â”‚ â”‚     :3      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚            æ¸…é™¤æ‰€æœ‰ç”¢å“å¿«å–                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **è‡ªå‹•æ¨™ç±¤é—œè¯**ï¼šAPI å¿«å–è‡ªå‹•èˆ‡ç›¸é—œè³‡æºå»ºç«‹æ¨™ç±¤é—œè¯
- **æ‰¹æ¬¡æ¸…é™¤åŠŸèƒ½**ï¼šæ”¯æ´ä¸€æ¬¡æ¸…é™¤æ‰€æœ‰èˆ‡ç‰¹å®šæ¨™ç±¤é—œè¯çš„å¿«å–é …ç›®
- **ç”¢å“è³‡æ–™æ¨™è¨˜**ï¼šè‡ªå‹•ç‚ºç”¢å“ç›¸é—œ API å›æ‡‰æ·»åŠ ç”¢å“æ¨™ç±¤
- **æ¨™ç±¤éµæœå°‹**ï¼šæä¾›æ ¹æ“šæ¨™ç±¤å‰ç¶´æœå°‹ç›¸é—œå¿«å–éµçš„åŠŸèƒ½

```php
// æ ¹æ“šæ¨™ç±¤æ‰¹æ¬¡æ¸…é™¤å¿«å–
public function clearCacheByTag(string $tag): bool
{
    try {
        $redis = Redis::connection()->client();
        $prefix = config('cache.prefix', 'laravel_cache');
        
        // å°‹æ‰¾åŒ…å«æ­¤æ¨™ç±¤çš„æ‰€æœ‰éµ
        $pattern = "*:{$tag}*";
        $keys = $redis->keys($prefix . ':' . $pattern);
        
        // ç§»é™¤ Laravel å¿«å–å‰ç¶´ä»¥ä¾¿ä½¿ç”¨ Cache::forget
        foreach ($keys as $key) {
            $cacheKey = str_replace($prefix . ':', '', $key);
            Cache::forget($cacheKey);
        }
        
        return true;
    } catch (\Exception $e) {
        \Log::error('æ¸…é™¤å¿«å–æ¨™ç±¤å¤±æ•—: ' . $e->getMessage());
        return false;
    }
}
```

## ç³»çµ±éœ€æ±‚

- PHP 8.2 æˆ–æ›´é«˜ç‰ˆæœ¬
- Laravel 11.x
- Redis ä¼ºæœå™¨ (v7 æ¨è–¦)
- Composer

## å®‰è£æŒ‡å—

### 1. è¤‡è£½æœ¬å°ˆæ¡ˆ

### 2. å®‰è£ç›¸ä¾å¥—ä»¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å®‰è£æµç¨‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                       â”‚
â”‚  1. composer install   å®‰è£ PHP ç›¸ä¾å¥—ä»¶              â”‚
â”‚                                                       â”‚
â”‚  2. npm install        å®‰è£å‰ç«¯ç›¸ä¾å¥—ä»¶               â”‚
â”‚                                                       â”‚
â”‚  3. npm run build      ç·¨è­¯å‰ç«¯è³‡æº                   â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```bash
composer install
npm install
npm run build
```

### 3. ç’°å¢ƒè¨­å®š

è¤‡è£½ `.env.example` æª”æ¡ˆä¸¦é€²è¡Œè¨­å®šï¼š

```bash
cp .env.example .env
php artisan key:generate
```

è¨­å®š Redis é€£ç·šè³‡è¨Šï¼š

```
CACHE_DRIVER=redis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379
```

### 4. åŸ·è¡Œé·ç§»

```bash
php artisan migrate
```

### 5. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨

```bash
php artisan serve
```

ç¾åœ¨ï¼Œæ‚¨å¯ä»¥é€éç€è¦½å™¨è¨ªå• `http://localhost:8000` ä¾†ä½¿ç”¨ç³»çµ±ã€‚

## ä½¿ç”¨èªªæ˜

### å¿«å–ç›£æ§å„€è¡¨æ¿

è¨ªå• `/admin/cache-monitor` è·¯å¾‘ä¾†æŸ¥çœ‹å¿«å–ç›£æ§å„€è¡¨æ¿ã€‚æ‚¨å¯ä»¥åœ¨æ­¤é é¢ï¼š
- æŸ¥çœ‹å³æ™‚å¿«å–çµ±è¨ˆè³‡æ–™
- ç›£æ§ Redis ä¼ºæœå™¨ç‹€æ…‹
- æ¸…é™¤ç‰¹å®šæˆ–æ‰€æœ‰å¿«å–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å„€è¡¨æ¿ä½¿ç”¨èªªæ˜ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                     â”‚
â”‚  1. è¨ªå• /admin/cache-monitor è·¯å¾‘                  â”‚
â”‚                                                     â”‚
â”‚  2. æŸ¥çœ‹å¿«å–çµ±è¨ˆè³‡æ–™å’Œä¼ºæœå™¨ç‹€æ…‹                    â”‚
â”‚                                                     â”‚
â”‚  3. ä½¿ç”¨æ¨™ç±¤å¼å¿«å–æ¸…é™¤åŠŸèƒ½                          â”‚
â”‚                                                     â”‚
â”‚  4. ç›£æ§ç³»çµ±æ•ˆèƒ½æŒ‡æ¨™                                â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### API å¿«å–ä½¿ç”¨

è¦å•Ÿç”¨ API è‡ªå‹•å¿«å–ï¼Œè«‹åœ¨ `app/Http/Kernel.php` ä¸­è¨»å†Šä¸­é–“ä»¶ï¼š

```php
protected $middlewareGroups = [
    'api' => [
        // å…¶ä»–ä¸­é–“ä»¶...
        \App\Http\Middleware\CacheRequestFingerprint::class,
    ],
];
```

### Redis é€£ç·šæ¸¬è©¦

è¨ªå• `/redis-test` è·¯å¾‘ä¾†åŸ·è¡Œ Redis é€£ç·šè¨ºæ–·ã€‚ç³»çµ±å°‡è‡ªå‹•æª¢æ¸¬ä¸¦é¡¯ç¤ºï¼š
- é€£ç·šç‹€æ…‹
- ç’°å¢ƒè¨­å®š
- å¯èƒ½çš„å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ

## æ•ˆèƒ½æå‡å¯¦ä¾‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ•ˆèƒ½æå‡å¯¦ä¾‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                    â”‚
â”‚  API å›æ‡‰æ™‚é–“                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                           â”‚    â”‚
â”‚  â”‚  æœªä½¿ç”¨å¿«å–: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  250ms  â”‚    â”‚
â”‚  â”‚  ä½¿ç”¨å¿«å–:   â–ˆâ–ˆâ–ˆ                   25ms   â”‚    â”‚
â”‚  â”‚                                           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                    â”‚
â”‚  ä¼ºæœå™¨è² è¼‰                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                           â”‚    â”‚
â”‚  â”‚  æœªä½¿ç”¨å¿«å–: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  85%    â”‚    â”‚
â”‚  â”‚  ä½¿ç”¨å¿«å–:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                25%    â”‚    â”‚
â”‚  â”‚                                           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

åœ¨å¯¦éš›æ‡‰ç”¨ä¸­ï¼Œæœ¬ç³»çµ±å¯é¡¯è‘—æå‡æ‡‰ç”¨ç¨‹å¼æ•ˆèƒ½ï¼š
- API å›æ‡‰æ™‚é–“æ¸›å°‘é«˜é” 90%
- ä¼ºæœå™¨è² è¼‰é™ä½ç´„ 70%
- è³‡æ–™åº«æŸ¥è©¢æ¸›å°‘ç´„ 85%

## è²¢ç»æŒ‡å—

æˆ‘å€‘æ­¡è¿ä»»ä½•å½¢å¼çš„è²¢ç»ï¼è«‹éµå¾ªä»¥ä¸‹æ­¥é©Ÿï¼š
1. Fork æœ¬å°ˆæ¡ˆ
2. å»ºç«‹æ‚¨çš„åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ‚¨çš„è®Šæ›´ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. é–‹å•Ÿ Pull Request

## æˆæ¬Š

æœ¬å°ˆæ¡ˆä½¿ç”¨ MIT æˆæ¬Š - è©³æƒ…è«‹åƒé–± [LICENSE](LICENSE) æª”æ¡ˆã€‚

## Demoç•«é¢

![image](https://github.com/user-attachments/assets/32fa0e09-610f-487b-84af-45d99b957ca3)
![image](https://github.com/user-attachments/assets/71468991-f60e-44d4-931f-fc9980471d71)
![image](https://github.com/user-attachments/assets/71646f9b-c04b-4809-994c-75fb3f102507)
